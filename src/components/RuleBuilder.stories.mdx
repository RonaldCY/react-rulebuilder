import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks'

import { RuleBuilder, RuleBuilderProps } from './RuleBuilder'

<Meta title='Components/RuleBuilder' component={RuleBuilder} />

# RuleBuilder

This is the `RuleBuilder`

```jsx
import { RuleBuilder } from 'react-rulebuilder'
```

<Preview withSource='open'>
  <Story name='Default'>
    <RuleBuilder
      queryProps={{
        fields: [{ name: 'age', label: 'Age' }],
        onQueryChange: () => {}
      }}
    />
    >
  </Story>
</Preview>

## Props

<Props of={RuleBuilder} />

## Advance

<Preview withSource='open'>
  <Story name='Advance'>
    <RuleBuilder
      inputData={{
        groups: [
          {
            id: 'Oqpu5t0lHN6dqZCPSXFov',
            rules: [
              {
                id: 'LTEAHDME9MCWKEmYRBGbm',
                priority: 100,
                condition: {
                  id: 'qOMyWGupsLapNZZi9Vq15',
                  rules: [
                    {
                      id: 'g-nQ6H27iP_uqD0mWTwX_Wu',
                      rules: [
                        {
                          id: 'r-uymFnsXIl_6-MCwKI5o-7',
                          field: 'sex',
                          value: 'Female',
                          operator: '='
                        },
                        {
                          id: 'r-aUMdryzPnTikXW3HekhY0',
                          field: 'menopause',
                          value: '0',
                          operator: '>'
                        }
                      ],
                      combinator: 'and',
                      not: false
                    },
                    {
                      id: 'g-udAW32LJ7LXvLxQG29vz2',
                      rules: [
                        {
                          id: 'r-cTzpD-qW1cb27hZWTECaY',
                          field: 'sex',
                          value: 'Male',
                          operator: '='
                        },
                        {
                          id: 'r-4yAuGVJKfa2VTSIFapwqV',
                          field: 'age',
                          value: '50',
                          operator: '<'
                        }
                      ],
                      combinator: 'and',
                      not: false
                    }
                  ],
                  combinator: 'or',
                  not: false
                },
                consequence: {
                  field: 'scoreType',
                  value: 'T'
                },
                function: 'R.next()'
              }
            ]
          }
        ]
      }}
      queryProps={{
        fields: [
          { name: 'age', label: 'Age' },
          { name: 'sex', label: 'Sex' },
          { name: 'menopause', label: 'Menopause' }
        ],
        onQueryChange: () => {}
      }}
    />
    >>
  </Story>
</Preview>
